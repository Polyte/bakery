(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{1381:(e,i,s)=>{"use strict";s.d(i,{default:()=>Y});var r=s(8081),a=s(2149);let t=[{id:"cake",name:"Cakes",basePrice:3500,sizes:[{id:"2-tier-wedding",name:"2 Tier (Wedding)",price:3500},{id:"3-tier-wedding",name:"3 Tier (Wedding)",price:5500},{id:"15cm-fondant",name:"15cm (Fondant)",price:1050},{id:"17cm-fondant",name:"17cm (Fondant)",price:1200},{id:"20cm-fondant",name:"20cm (Fondant)",price:1450},{id:"2-tier-fondant",name:"2 Tier (Fondant)",price:2500}],flavors:[{id:"vanilla",name:"Vanilla",price:0},{id:"chocolate",name:"Chocolate",price:0}],fillings:[{id:"figurines",name:"Figurines",price:80},{id:"edible-print",name:"Edible Print",price:100},{id:"flossy-paper",name:"Flossy Paper",price:100},{id:"wood-toppers",name:"Wood Toppers",price:80},{id:"custom-toppers",name:"Custom Toppers",price:100}],colours:[{id:"gold",name:"Gold",price:0},{id:"silver",name:"Silver",price:0},{id:"pink",name:"Pink",price:0},{id:"blue",name:"Blue",price:0},{id:"red",name:"Red",price:0},{id:"green",name:"Green",price:0},{id:"yellow",name:"Yellow",price:0},{id:"purple",name:"Purple",price:0},{id:"white",name:"White",price:0},{id:"brown",name:"Brown",price:0},{id:"orange",name:"Orange",price:0},{id:"maroon",name:"Maroon",price:0},{id:"navy-blue",name:"Navy Blue",price:0}],decorations:[{id:"simple",name:"Simple",price:0},{id:"floral",name:"Floral",price:400},{id:"themed",name:"Custom Themed",price:600}],supportsMessage:!0,supportsDesignRequest:!0},{id:"cupcakes",name:"Cupcakes",basePrice:25,flavors:[{id:"vanilla",name:"Vanilla",price:0},{id:"chocolate",name:"Chocolate",price:0},{id:"red-velvet",name:"Red Velvet",price:2}],frostings:[{id:"vanilla-buttercream",name:"Vanilla Buttercream",price:0},{id:"chocolate-buttercream",name:"Chocolate Buttercream",price:2},{id:"cream-cheese",name:"Cream Cheese",price:3}],decorations:[{id:"sprinkles",name:"Sprinkles",price:0},{id:"fondant-topper",name:"Fondant Topper",price:5}],quantityMultipliers:{6:25,12:25,18:25,24:25},supportsMessage:!1,supportsDesignRequest:!0},{id:"popsicles",name:"Popsicles",basePrice:30,flavors:[{id:"vanilla",name:"Vanilla",price:0},{id:"chocolate",name:"Chocolate",price:0},{id:"red-velvet",name:"Red Velvet",price:2}],decorations:[{id:"sprinkles",name:"Sprinkles",price:0},{id:"drizzle",name:"Chocolate Drizzle",price:2},{id:"fondant-topper",name:"Fondant Topper",price:5}],quantityMultipliers:{12:30},supportsMessage:!1,supportsDesignRequest:!0},{id:"scones",name:"Scones",basePrice:300,sizes:[{id:"5L",name:"5L",price:0},{id:"10L",name:"10L",price:150},{id:"20L",name:"20L",price:450}],flavors:[{id:"plain",name:"Plain",price:0},{id:"raisin",name:"Raisin",price:10},{id:"cheese",name:"Cheese",price:20},{id:"blueberry",name:"Blueberry",price:30}],supportsMessage:!1,supportsDesignRequest:!1},{id:"cookies",name:"Cookies",basePrice:350,sizes:[{id:"5L",name:"5L",price:0},{id:"10L",name:"10L",price:150}],flavors:[{id:"sugar",name:"Sugar Cookies",price:0},{id:"chocolate-chip",name:"Chocolate Chip",price:20},{id:"oatmeal-raisin",name:"Oatmeal Raisin",price:20}],decorations:[{id:"icing",name:"Icing",price:10},{id:"piping",name:"Piping",price:15},{id:"logo",name:"Edible Image/Logo",price:25}],supportsMessage:!1,supportsDesignRequest:!0}];var l=s(9907),d=s(3484),n=s(7687);let o=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,i)=>{let{className:s,variant:a,size:t,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,r.jsx)(m,{className:(0,n.cn)(o({variant:a,size:t,className:s})),ref:i,...c})});c.displayName="Button";let m=a.forwardRef((e,i)=>{let{className:s,type:a,...t}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:i,...t})});m.displayName="Input";var p=s(6062);let u=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(p.b,{ref:i,className:(0,n.cn)(u(),s),...a})});f.displayName=p.b.displayName;var x=s(2087),h=s(8022);let v=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(x.bL,{className:(0,n.cn)("grid gap-2",s),...a,ref:i})});v.displayName=x.bL.displayName;let g=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(x.q7,{ref:i,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,r.jsx)(x.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(h.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});g.displayName=x.q7.displayName;var y=s(4850),j=s(392),b=s(6801),N=s(6722);let w=y.bL;y.YJ;let k=y.WT,C=a.forwardRef((e,i)=>{let{className:s,children:a,...t}=e;return(0,r.jsxs)(y.l9,{ref:i,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,(0,r.jsx)(y.In,{asChild:!0,children:(0,r.jsx)(j.A,{className:"h-4 w-4 opacity-50"})})]})});C.displayName=y.l9.displayName;let z=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(y.PP,{ref:i,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})});z.displayName=y.PP.displayName;let R=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(y.wn,{ref:i,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})});R.displayName=y.wn.displayName;let P=a.forwardRef((e,i)=>{let{className:s,children:a,position:t="popper",...l}=e;return(0,r.jsx)(y.ZL,{children:(0,r.jsxs)(y.UC,{ref:i,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...l,children:[(0,r.jsx)(z,{}),(0,r.jsx)(y.LM,{className:(0,n.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(R,{})]})})});P.displayName=y.UC.displayName,a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(y.JU,{ref:i,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=y.JU.displayName;let F=a.forwardRef((e,i)=>{let{className:s,children:a,...t}=e;return(0,r.jsxs)(y.q7,{ref:i,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(y.VF,{children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})}),(0,r.jsx)(y.p4,{children:a})]})});F.displayName=y.q7.displayName,a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(y.wv,{ref:i,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=y.wv.displayName;let q=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:i,...a})});q.displayName="Textarea";var S=s(546);let T=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)(S.bL,{ref:i,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(S.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})})});T.displayName=S.bL.displayName;let D=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});D.displayName="Card";let A=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});A.displayName="CardHeader";let L=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});L.displayName="CardTitle";let M=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});M.displayName="CardDescription";let O=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("p-6 pt-0",s),...a})});O.displayName="CardContent";let I=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});I.displayName="CardFooter";var V=s(139),E=s(7500),B=s(3345);let _=(0,B.createServerReference)("4056a5d41d081b91dcad0b29c3d7381e5e2c617a27",B.callServer,void 0,B.findSourceMapURL,"submitOrder"),W={pastryType:t[0].id,quantity:1,itemPrice:t[0].basePrice};function Y(){let[e,i]=(0,a.useState)(1),[s,l]=(0,a.useState)({name:"",email:"",phone:"",eventDate:"",deliveryOption:"pickup",deliveryAddress:"",specialInstructions:""}),[d,n]=(0,a.useState)(W),[o,p]=(0,a.useState)([]),[u,x]=(0,a.useState)(0),[h,y]=(0,a.useState)(t[0]),[j,b]=(0,a.useState)(null),[N,z]=(0,a.useState)(!1),R=e=>{let{name:i,value:s}=e.target;l(e=>({...e,[i]:s}))},S=(e,i)=>{l(s=>({...s,[e]:i}))},B=(e,i)=>{n(s=>({...s,[e]:i}))},Y=(e,i)=>{n(s=>{let r=s[e]||[],a=r.includes(i)?r.filter(e=>e!==i):[...r,i];return{...s,[e]:a}})},U=(0,a.useCallback)(()=>{if(!h)return 0;let e=0;if("cake"===h.id&&d.size&&h.sizes){let i=h.sizes.find(e=>e.id===d.size);i&&(e=i.price)}else if(e=h.basePrice,d.size&&h.sizes){let i=h.sizes.find(e=>e.id===d.size);i&&(e+=i.price)}if(d.flavor&&h.flavors){let i=h.flavors.find(e=>e.id===d.flavor);i&&(e+=i.price)}if(d.frosting&&h.frostings){let i=h.frostings.find(e=>e.id===d.frosting);i&&(e+=i.price)}if(d.decoration&&h.decorations){let i=h.decorations.find(e=>e.id===d.decoration);i&&(e+=i.price*("cupcakes"===h.id||"cookies"===h.id?d.quantity:1))}return d.filling&&h.fillings&&d.filling.forEach(i=>{var s;let r=null===(s=h.fillings)||void 0===s?void 0:s.find(e=>e.id===i);r&&(e+=r.price)}),"cupcakes"===h.id||"cookies"===h.id?e*=d.quantity:("cake"===h.id||"tarts"===h.id)&&(e*=d.quantity),e},[h,d.size,d.flavor,d.filling,d.frosting,d.decoration,d.quantity]);(0,a.useEffect)(()=>{let e=U();n(i=>i.itemPrice!==e?{...i,itemPrice:e}:i)},[U]),(0,a.useEffect)(()=>{let e=t.find(e=>e.id===d.pastryType)||t[0];y(e);let i="cake"===e.id||"tarts"===e.id?1:12,s=e.basePrice*("cupcakes"===e.id||"cookies"===e.id?i:1);n(r=>{var a,t,l,d,n,o,c,m;return{pastryType:e.id,quantity:i,itemPrice:s,size:null===(t=e.sizes)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id,flavor:null===(d=e.flavors)||void 0===d?void 0:null===(l=d[0])||void 0===l?void 0:l.id,filling:[],frosting:null===(o=e.frostings)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.id,decoration:null===(m=e.decorations)||void 0===m?void 0:null===(c=m[0])||void 0===c?void 0:c.id,personalizedMessage:"",designRequest:""}})},[d.pastryType]),(0,a.useEffect)(()=>{x(o.reduce((e,i)=>e+i.itemPrice,0))},[o]);let J=()=>{var e,i,s,r,a,t,l,o;if(d.itemPrice<=0&&h.basePrice>0&&"cupcakes"!==h.id&&"cookies"!==h.id){b({type:"error",message:"Please make selections for your item."});return}p(e=>[...e,{...d,id:Date.now().toString()}]);let c="cake"===h.id||"tarts"===h.id?1:12,m=h.basePrice*("cake"===h.id||"tarts"===h.id?1:c);n({pastryType:h.id,quantity:c,itemPrice:m,size:null===(i=h.sizes)||void 0===i?void 0:null===(e=i[0])||void 0===e?void 0:e.id,flavor:null===(r=h.flavors)||void 0===r?void 0:null===(s=r[0])||void 0===s?void 0:s.id,filling:[],frosting:null===(t=h.frostings)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.id,decoration:null===(o=h.decorations)||void 0===o?void 0:null===(l=o[0])||void 0===l?void 0:l.id,personalizedMessage:"",designRequest:""}),b({type:"success",message:"".concat(h.name," added to cart!")}),setTimeout(()=>b(null),3e3)},G=e=>{p(i=>i.filter(i=>i.id!==e))},H=async e=>{if(e.preventDefault(),0===o.length){b({type:"error",message:"Your cart is empty. Please add items before placing an order."});return}z(!0),b(null);let r={...s,items:o,totalPrice:u,paymentMethod:"Credit Card (Simulated)"},a=await _(r);b({type:a.success?"success":"error",message:a.message}),z(!1),a.success&&i(3)};return(0,r.jsxs)("div",{className:"space-y-8",children:[" ",j&&(0,r.jsx)("div",{className:"p-4 rounded-md text-white ".concat("success"===j.type?"bg-dadda-primary":"bg-dadda-red"),children:j.message}),(()=>{switch(e){case 1:return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(D,{className:"shadow-lg",children:[(0,r.jsxs)(A,{children:[(0,r.jsxs)(L,{className:"text-2xl text-dadda-primary flex items-center",children:[(0,r.jsx)(V.A,{className:"mr-2 h-6 w-6"})," Customize Your Item"]}),(0,r.jsx)(M,{children:"Select pastry type and customize your options."})]}),(0,r.jsxs)(O,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"pastryType",className:"text-lg font-medium",children:"Pastry Type"}),(0,r.jsxs)(w,{value:d.pastryType,onValueChange:e=>B("pastryType",e),children:[(0,r.jsx)(C,{id:"pastryType",className:"mt-1",children:(0,r.jsx)(k,{placeholder:"Select a pastry type"})}),(0,r.jsx)(P,{children:t.map(e=>(0,r.jsx)(F,{value:e.id,children:e.name},e.id))})]})]}),h.sizes&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"size",className:"text-lg font-medium",children:"Size"}),(0,r.jsxs)(w,{value:d.size,onValueChange:e=>B("size",e),children:[(0,r.jsx)(C,{id:"size",className:"mt-1",children:(0,r.jsx)(k,{placeholder:"Select size"})}),(0,r.jsx)(P,{children:h.sizes.map(e=>(0,r.jsxs)(F,{value:e.id,children:[e.name," (R",e.price,")"]},e.id))})]})]}),h.flavors&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"flavor",className:"text-lg font-medium",children:"Flavor"}),(0,r.jsxs)(w,{value:d.flavor,onValueChange:e=>B("flavor",e),children:[(0,r.jsx)(C,{id:"flavor",className:"mt-1",children:(0,r.jsx)(k,{placeholder:"Select flavor"})}),(0,r.jsx)(P,{children:h.flavors.map(e=>(0,r.jsxs)(F,{value:e.id,children:[e.name," (+R",e.price,")"]},e.id))})]})]}),h.fillings&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{className:"text-lg font-medium",children:"Cake Toppers (select multiple)"}),(0,r.jsx)("div",{className:"mt-2 space-y-2",children:h.fillings.map(e=>{var i;return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(T,{id:"filling-".concat(e.id),checked:null===(i=d.filling)||void 0===i?void 0:i.includes(e.id),onCheckedChange:()=>Y("filling",e.id)}),(0,r.jsxs)(f,{htmlFor:"filling-".concat(e.id),className:"font-normal",children:[e.name," (+R",e.price,")"]})]},e.id)})})]}),h.colours&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"colour",className:"text-lg font-medium",children:"Cake Color (if applicable)"}),(0,r.jsxs)(w,{value:d.frosting,onValueChange:e=>B("colour",e),children:[(0,r.jsx)(C,{id:"colour",className:"mt-1",children:(0,r.jsx)(k,{placeholder:"Select colour"})}),(0,r.jsx)(P,{children:h.colours.map(e=>(0,r.jsxs)(F,{value:e.id,children:[e.name," (+R",e.price,")"]},e.id))})]})]}),h.decorations&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"decoration",className:"text-lg font-medium",children:"Decoration"}),(0,r.jsxs)(w,{value:d.decoration,onValueChange:e=>B("decoration",e),children:[(0,r.jsx)(C,{id:"decoration",className:"mt-1",children:(0,r.jsx)(k,{placeholder:"Select decoration"})}),(0,r.jsx)(P,{children:h.decorations.map(e=>(0,r.jsxs)(F,{value:e.id,children:[e.name," (+R",e.price*("cupcakes"===h.id||"cookies"===h.id?d.quantity:1),")"]},e.id))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"quantity",className:"text-lg font-medium",children:"Quantity"}),(0,r.jsx)(m,{id:"quantity",type:"number",min:"1",value:d.quantity,onChange:e=>B("quantity",Number.parseInt(e.target.value)||1),className:"mt-1"}),"cupcakes"===h.id&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Cupcakes are typically ordered in dozens (12, 24, etc.). Price is per Dozen."}),"cookies"===h.id&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Cookies are typically ordered in dozens (12, 24, etc.). Price is per cookie."})]}),h.supportsMessage&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"personalizedMessage",className:"text-lg font-medium",children:"Personalized Message"}),(0,r.jsx)(q,{id:"personalizedMessage",value:d.personalizedMessage||"",onChange:e=>B("personalizedMessage",e.target.value),placeholder:"E.g., Happy Birthday John!",className:"mt-1"})]}),h.supportsDesignRequest&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"designRequest",className:"text-lg font-medium",children:"Specific Design Requests"}),(0,r.jsx)(q,{id:"designRequest",value:d.designRequest||"",onChange:e=>B("designRequest",e.target.value),placeholder:"E.g., Blue and silver theme, superhero characters...",className:"mt-1"})]})]}),(0,r.jsxs)(I,{className:"flex flex-col items-stretch gap-4",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-right text-dadda-primary",children:["Item Price: R",d.itemPrice.toFixed(2)]}),(0,r.jsxs)(c,{onClick:J,size:"lg",className:"w-full",children:[(0,r.jsx)(V.A,{className:"mr-2 h-5 w-5"})," Add to Cart"]})]})]})}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(D,{className:"shadow-lg",children:[(0,r.jsx)(A,{children:(0,r.jsxs)(L,{className:"text-2xl text-dadda-primary flex items-center",children:[(0,r.jsx)(V.A,{className:"mr-2 h-6 w-6"})," Your Cart"]})}),(0,r.jsx)(O,{children:0===o.length?(0,r.jsx)("p",{className:"text-brown-medium",children:"Your cart is empty."}):(0,r.jsx)("ul",{className:"space-y-4",children:o.map(e=>{var i,s,a,l,d,n,o;return(0,r.jsx)("li",{className:"border p-4 rounded-lg bg-cream/50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-brown-dark",children:[e.quantity,"x ",null===(i=t.find(i=>i.id===e.pastryType))||void 0===i?void 0:i.name]}),(0,r.jsxs)("p",{className:"text-sm text-brown-medium",children:[e.flavor&&"Flavor: ".concat(null===(l=t.find(i=>i.id===e.pastryType))||void 0===l?void 0:null===(a=l.flavors)||void 0===a?void 0:null===(s=a.find(i=>i.id===e.flavor))||void 0===s?void 0:s.name),e.size&&", Size: ".concat(null===(o=t.find(i=>i.id===e.pastryType))||void 0===o?void 0:null===(n=o.sizes)||void 0===n?void 0:null===(d=n.find(i=>i.id===e.size))||void 0===d?void 0:d.name)]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-semibold text-dadda-primary",children:["R",e.itemPrice.toFixed(2)]}),(0,r.jsx)(c,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>G(e.id),children:"Remove"})]})]})},e.id)})})}),o.length>0&&(0,r.jsxs)(I,{className:"flex flex-col items-stretch gap-4",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-right text-dadda-primary",children:["Total: R",u.toFixed(2)]}),(0,r.jsx)(c,{onClick:()=>i(2),size:"lg",className:"w-full",disabled:0===o.length,children:"Proceed to Checkout"})]})]})})]})});case 2:return(0,r.jsxs)(D,{className:"shadow-lg max-w-2xl mx-auto",children:[(0,r.jsxs)(A,{children:[(0,r.jsx)(L,{className:"text-2xl text-dadda-primary",children:"Customer & Delivery Details"}),(0,r.jsx)(M,{children:"Please provide your information to complete the order."})]}),(0,r.jsxs)("form",{onSubmit:H,children:[(0,r.jsxs)(O,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"name",children:"Full Name *"}),(0,r.jsx)(m,{id:"name",name:"name",value:s.name,onChange:R,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"email",children:"Email Address *"}),(0,r.jsx)(m,{id:"email",name:"email",type:"email",value:s.email,onChange:R,required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"phone",children:"Phone Number *"}),(0,r.jsx)(m,{id:"phone",name:"phone",type:"tel",value:s.phone,onChange:R,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"eventDate",children:"Event Date (Optional)"}),(0,r.jsx)(m,{id:"eventDate",name:"eventDate",type:"date",value:s.eventDate,onChange:R})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{className:"mb-2 block",children:"Delivery Option *"}),(0,r.jsxs)(v,{name:"deliveryOption",value:s.deliveryOption,onValueChange:e=>S("deliveryOption",e),className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g,{value:"pickup",id:"pickup"}),(0,r.jsx)(f,{htmlFor:"pickup",children:"Pickup from Bakery"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g,{value:"delivery",id:"delivery"}),(0,r.jsx)(f,{htmlFor:"delivery",children:"Delivery"})]})]})]}),"delivery"===s.deliveryOption&&(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"deliveryAddress",children:"Delivery Address *"}),(0,r.jsx)(q,{id:"deliveryAddress",name:"deliveryAddress",value:s.deliveryAddress,onChange:R,required:"delivery"===s.deliveryOption})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"specialInstructions",children:"Special Instructions / Dietary Notes"}),(0,r.jsx)(q,{id:"specialInstructions",name:"specialInstructions",value:s.specialInstructions,onChange:R,placeholder:"Any allergies, specific requests, etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mt-6 mb-2 text-dadda-primary",children:"Payment (Simulated)"}),(0,r.jsx)("p",{className:"text-sm text-brown-medium",children:"This is a simulated payment section. In a real application, a payment gateway like Stripe or PayFast would be integrated here."}),(0,r.jsxs)("div",{className:"mt-2 p-4 border border-dashed border-dadda-primary rounded-lg bg-dadda-primary/10",children:[(0,r.jsxs)("p",{className:"font-semibold",children:["Total Amount Due: R",u.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs",children:'Payment will be "processed" successfully for this demo.'})]})]})]}),(0,r.jsxs)(I,{className:"flex justify-between",children:[(0,r.jsx)(c,{variant:"outline",onClick:()=>i(1),children:"Back to Cart"}),(0,r.jsx)(c,{type:"submit",disabled:N||0===o.length,size:"lg",children:N?"Processing...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.A,{className:"mr-2 h-5 w-5"})," Place Order (R",u.toFixed(2),")"]})})]})]})]});case 3:var a,n;return(0,r.jsxs)(D,{className:"shadow-lg max-w-2xl mx-auto text-center",children:[(0,r.jsxs)(A,{children:[(0,r.jsx)("div",{className:"mx-auto bg-dadda-primary text-white rounded-full h-16 w-16 flex items-center justify-center mb-4",children:(0,r.jsx)(E.A,{className:"h-8 w-8"})}),(0,r.jsx)(L,{className:"text-3xl text-dadda-primary",children:"Order Confirmed!"}),(0,r.jsx)(M,{children:(null==j?void 0:j.message)||"Thank you for your order."})]}),(0,r.jsxs)(O,{children:[(0,r.jsxs)("p",{className:"text-brown-medium mb-6",children:['We\'ve received your order and will be in touch shortly to finalize details if needed. A confirmation email has been "sent" to ',s.email,"."]}),(0,r.jsxs)("div",{className:"text-left border p-4 rounded-lg bg-cream/50 space-y-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg text-brown-dark",children:"Order Summary:"}),((null==j?void 0:j.type)==="success"&&(null===(a=j.orderDetails)||void 0===a?void 0:a.items)||o).map((e,i)=>{var s;return(0,r.jsxs)("p",{className:"text-sm",children:[e.quantity,"x ",null===(s=t.find(i=>i.id===e.pastryType))||void 0===s?void 0:s.name," - R",e.itemPrice.toFixed(2)]},e.id||i)}),(0,r.jsxs)("p",{className:"font-bold text-dadda-primary text-xl pt-2 border-t mt-2",children:["Total: R",((null==j?void 0:j.type)==="success"&&(null===(n=j.orderDetails)||void 0===n?void 0:n.totalPrice)||u).toFixed(2)]})]})]}),(0,r.jsx)(I,{children:(0,r.jsx)(c,{onClick:()=>{i(1),p([]),l({name:"",email:"",phone:"",eventDate:"",deliveryOption:"pickup",deliveryAddress:"",specialInstructions:""}),b(null)},className:"w-full",size:"lg",children:"Place Another Order"})})]});default:return null}})()]})}},1466:(e,i,s)=>{Promise.resolve().then(s.bind(s,1381)),Promise.resolve().then(s.bind(s,9181))},7687:(e,i,s)=>{"use strict";s.d(i,{cn:()=>t});var r=s(6522),a=s(4483);function t(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return(0,a.QP)((0,r.$)(i))}},9181:(e,i,s)=>{"use strict";s.d(i,{Separator:()=>d});var r=s(8081),a=s(2149),t=s(2175),l=s(7687);let d=a.forwardRef((e,i)=>{let{className:s,orientation:a="horizontal",decorative:d=!0,...n}=e;return(0,r.jsx)(t.b,{ref:i,decorative:d,orientation:a,className:(0,l.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...n})});d.displayName=t.b.displayName}},e=>{var i=i=>e(e.s=i);e.O(0,[301,497,954,358],()=>i(1466)),_N_E=e.O()}]);